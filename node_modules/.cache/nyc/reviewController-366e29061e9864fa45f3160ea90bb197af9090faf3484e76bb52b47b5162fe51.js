function cov_lpsl2491s(){var path="/Users/kartikeyabvr/Documents/TrimesterT1/SIT725/SIT-725-Selby-Project/controllers/reviewController.js";var hash="f3397898109633a7993ccf30ddec2198e845904c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/kartikeyabvr/Documents/TrimesterT1/SIT725/SIT-725-Selby-Project/controllers/reviewController.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:47}},"1":{start:{line:3,column:0},end:{line:12,column:2}},"2":{start:{line:4,column:4},end:{line:11,column:5}},"3":{start:{line:5,column:47},end:{line:5,column:55}},"4":{start:{line:6,column:23},end:{line:6,column:65}},"5":{start:{line:7,column:8},end:{line:7,column:28}},"6":{start:{line:8,column:8},end:{line:8,column:65}},"7":{start:{line:10,column:8},end:{line:10,column:59}},"8":{start:{line:14,column:0},end:{line:24,column:2}},"9":{start:{line:15,column:4},end:{line:23,column:5}},"10":{start:{line:16,column:24},end:{line:16,column:78}},"11":{start:{line:17,column:20},end:{line:19,column:15}},"12":{start:{line:18,column:42},end:{line:18,column:56}},"13":{start:{line:20,column:8},end:{line:20,column:56}},"14":{start:{line:22,column:8},end:{line:22,column:59}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:23},end:{line:3,column:24}},loc:{start:{line:3,column:43},end:{line:12,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:27},end:{line:14,column:28}},loc:{start:{line:14,column:47},end:{line:24,column:1}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:30},end:{line:18,column:31}},loc:{start:{line:18,column:42},end:{line:18,column:56}},line:18}},branchMap:{"0":{loc:{start:{line:17,column:20},end:{line:19,column:15}},type:"cond-expr",locations:[{start:{line:18,column:14},end:{line:18,column:89}},{start:{line:19,column:14},end:{line:19,column:15}}],line:17}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f3397898109633a7993ccf30ddec2198e845904c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_lpsl2491s=function(){return actualCoverage;};}return actualCoverage;}cov_lpsl2491s();const Review=(cov_lpsl2491s().s[0]++,require('../models/reviewModel'));cov_lpsl2491s().s[1]++;exports.submitReview=async(req,res)=>{cov_lpsl2491s().f[0]++;cov_lpsl2491s().s[2]++;try{const{productId,rating,comment}=(cov_lpsl2491s().s[3]++,req.body);const review=(cov_lpsl2491s().s[4]++,new Review({productId,rating,comment}));cov_lpsl2491s().s[5]++;await review.save();cov_lpsl2491s().s[6]++;res.json({success:true,message:'Review submitted'});}catch(err){cov_lpsl2491s().s[7]++;res.json({success:false,message:err.message});}};cov_lpsl2491s().s[8]++;exports.getAverageRating=async(req,res)=>{cov_lpsl2491s().f[1]++;cov_lpsl2491s().s[9]++;try{const reviews=(cov_lpsl2491s().s[10]++,await Review.find({productId:req.params.productId}));const avg=(cov_lpsl2491s().s[11]++,reviews.length?(cov_lpsl2491s().b[0][0]++,(reviews.reduce((sum,r)=>{cov_lpsl2491s().f[2]++;cov_lpsl2491s().s[12]++;return sum+r.rating;},0)/reviews.length).toFixed(1)):(cov_lpsl2491s().b[0][1]++,0));cov_lpsl2491s().s[13]++;res.json({success:true,averageRating:avg});}catch(err){cov_lpsl2491s().s[14]++;res.json({success:false,message:err.message});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfbHBzbDI0OTFzIiwiYWN0dWFsQ292ZXJhZ2UiLCJSZXZpZXciLCJzIiwicmVxdWlyZSIsImV4cG9ydHMiLCJzdWJtaXRSZXZpZXciLCJyZXEiLCJyZXMiLCJmIiwicHJvZHVjdElkIiwicmF0aW5nIiwiY29tbWVudCIsImJvZHkiLCJyZXZpZXciLCJzYXZlIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXJyIiwiZ2V0QXZlcmFnZVJhdGluZyIsInJldmlld3MiLCJmaW5kIiwicGFyYW1zIiwiYXZnIiwibGVuZ3RoIiwiYiIsInJlZHVjZSIsInN1bSIsInIiLCJ0b0ZpeGVkIiwiYXZlcmFnZVJhdGluZyJdLCJzb3VyY2VzIjpbInJldmlld0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUmV2aWV3ID0gcmVxdWlyZSgnLi4vbW9kZWxzL3Jldmlld01vZGVsJyk7XG5cbmV4cG9ydHMuc3VibWl0UmV2aWV3ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBwcm9kdWN0SWQsIHJhdGluZywgY29tbWVudCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGNvbnN0IHJldmlldyA9IG5ldyBSZXZpZXcoeyBwcm9kdWN0SWQsIHJhdGluZywgY29tbWVudCB9KTtcbiAgICAgICAgYXdhaXQgcmV2aWV3LnNhdmUoKTtcbiAgICAgICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUmV2aWV3IHN1Ym1pdHRlZCcgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcy5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuZ2V0QXZlcmFnZVJhdGluZyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJldmlld3MgPSBhd2FpdCBSZXZpZXcuZmluZCh7IHByb2R1Y3RJZDogcmVxLnBhcmFtcy5wcm9kdWN0SWQgfSk7XG4gICAgICAgIGNvbnN0IGF2ZyA9IHJldmlld3MubGVuZ3RoXG4gICAgICAgICAgICA/IChyZXZpZXdzLnJlZHVjZSgoc3VtLCByKSA9PiBzdW0gKyByLnJhdGluZywgMCkgLyByZXZpZXdzLmxlbmd0aCkudG9GaXhlZCgxKVxuICAgICAgICAgICAgOiAwO1xuICAgICAgICByZXMuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGF2ZXJhZ2VSYXRpbmc6IGF2ZyB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVzLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XG4gICAgfVxufTtcbiJdLCJtYXBwaW5ncyI6InF1RUFlWTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FmWixLQUFNLENBQUFFLE1BQU0sRUFBQUYsYUFBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxFQUFDSixhQUFBLEdBQUFHLENBQUEsTUFFaERFLE9BQU8sQ0FBQ0MsWUFBWSxDQUFHLE1BQU9DLEdBQUcsQ0FBRUMsR0FBRyxHQUFLLENBQUFSLGFBQUEsR0FBQVMsQ0FBQSxNQUFBVCxhQUFBLEdBQUFHLENBQUEsTUFDdkMsR0FBSSxDQUNBLEtBQU0sQ0FBRU8sU0FBUyxDQUFFQyxNQUFNLENBQUVDLE9BQVEsQ0FBQyxFQUFBWixhQUFBLEdBQUFHLENBQUEsTUFBR0ksR0FBRyxDQUFDTSxJQUFJLEVBQy9DLEtBQU0sQ0FBQUMsTUFBTSxFQUFBZCxhQUFBLEdBQUFHLENBQUEsTUFBRyxHQUFJLENBQUFELE1BQU0sQ0FBQyxDQUFFUSxTQUFTLENBQUVDLE1BQU0sQ0FBRUMsT0FBUSxDQUFDLENBQUMsRUFBQ1osYUFBQSxHQUFBRyxDQUFBLE1BQzFELEtBQU0sQ0FBQVcsTUFBTSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDZixhQUFBLEdBQUFHLENBQUEsTUFDcEJLLEdBQUcsQ0FBQ1EsSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxJQUFJLENBQUVDLE9BQU8sQ0FBRSxrQkFBbUIsQ0FBQyxDQUFDLENBQzVELENBQUUsTUFBT0MsR0FBRyxDQUFFLENBQUFuQixhQUFBLEdBQUFHLENBQUEsTUFDVkssR0FBRyxDQUFDUSxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFLEtBQUssQ0FBRUMsT0FBTyxDQUFFQyxHQUFHLENBQUNELE9BQVEsQ0FBQyxDQUFDLENBQ3RELENBQ0osQ0FBQyxDQUFDbEIsYUFBQSxHQUFBRyxDQUFBLE1BRUZFLE9BQU8sQ0FBQ2UsZ0JBQWdCLENBQUcsTUFBT2IsR0FBRyxDQUFFQyxHQUFHLEdBQUssQ0FBQVIsYUFBQSxHQUFBUyxDQUFBLE1BQUFULGFBQUEsR0FBQUcsQ0FBQSxNQUMzQyxHQUFJLENBQ0EsS0FBTSxDQUFBa0IsT0FBTyxFQUFBckIsYUFBQSxHQUFBRyxDQUFBLE9BQUcsS0FBTSxDQUFBRCxNQUFNLENBQUNvQixJQUFJLENBQUMsQ0FBRVosU0FBUyxDQUFFSCxHQUFHLENBQUNnQixNQUFNLENBQUNiLFNBQVUsQ0FBQyxDQUFDLEVBQ3RFLEtBQU0sQ0FBQWMsR0FBRyxFQUFBeEIsYUFBQSxHQUFBRyxDQUFBLE9BQUdrQixPQUFPLENBQUNJLE1BQU0sRUFBQXpCLGFBQUEsR0FBQTBCLENBQUEsU0FDcEIsQ0FBQ0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQ0MsR0FBRyxDQUFFQyxDQUFDLEdBQUssQ0FBQTdCLGFBQUEsR0FBQVMsQ0FBQSxNQUFBVCxhQUFBLEdBQUFHLENBQUEsY0FBQXlCLEdBQUcsQ0FBR0MsQ0FBQyxDQUFDbEIsTUFBTSxDQUFELENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBR1UsT0FBTyxDQUFDSSxNQUFNLEVBQUVLLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBQTlCLGFBQUEsR0FBQTBCLENBQUEsU0FDM0UsQ0FBQyxHQUFDMUIsYUFBQSxHQUFBRyxDQUFBLE9BQ1JLLEdBQUcsQ0FBQ1EsSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxJQUFJLENBQUVjLGFBQWEsQ0FBRVAsR0FBSSxDQUFDLENBQUMsQ0FDbkQsQ0FBRSxNQUFPTCxHQUFHLENBQUUsQ0FBQW5CLGFBQUEsR0FBQUcsQ0FBQSxPQUNWSyxHQUFHLENBQUNRLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsS0FBSyxDQUFFQyxPQUFPLENBQUVDLEdBQUcsQ0FBQ0QsT0FBUSxDQUFDLENBQUMsQ0FDdEQsQ0FDSixDQUFDIiwiaWdub3JlTGlzdCI6W119