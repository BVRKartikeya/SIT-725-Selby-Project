function cov_25yf32j4es(){var path="/Users/kartikeyabvr/Documents/TrimesterT1/SIT725/SIT-725-Selby-Project/controllers/otpController.js";var hash="1793fd84e80e6f384208c7526f3a05098ac99168";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/kartikeyabvr/Documents/TrimesterT1/SIT725/SIT-725-Selby-Project/controllers/otpController.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:43}},"1":{start:{line:2,column:19},end:{line:2,column:46}},"2":{start:{line:4,column:0},end:{line:9,column:2}},"3":{start:{line:5,column:22},end:{line:5,column:30}},"4":{start:{line:6,column:16},end:{line:6,column:41}},"5":{start:{line:7,column:4},end:{line:7,column:44}},"6":{start:{line:8,column:4},end:{line:8,column:53}},"7":{start:{line:11,column:0},end:{line:19,column:2}},"8":{start:{line:12,column:27},end:{line:12,column:35}},"9":{start:{line:13,column:4},end:{line:18,column:5}},"10":{start:{line:14,column:8},end:{line:14,column:69}},"11":{start:{line:15,column:8},end:{line:15,column:36}},"12":{start:{line:17,column:8},end:{line:17,column:72}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:18},end:{line:4,column:19}},loc:{start:{line:4,column:32},end:{line:9,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:20},end:{line:11,column:21}},loc:{start:{line:11,column:40},end:{line:19,column:1}},line:11}},branchMap:{"0":{loc:{start:{line:13,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:18,column:5}},{start:{line:16,column:11},end:{line:18,column:5}}],line:13}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1793fd84e80e6f384208c7526f3a05098ac99168"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_25yf32j4es=function(){return actualCoverage;};}return actualCoverage;}cov_25yf32j4es();const User=(cov_25yf32j4es().s[0]++,require('../models/userModel'));const otpService=(cov_25yf32j4es().s[1]++,require('../utils/sendOtp'));cov_25yf32j4es().s[2]++;exports.sendOtp=(req,res)=>{cov_25yf32j4es().f[0]++;const{email}=(cov_25yf32j4es().s[3]++,req.body);const otp=(cov_25yf32j4es().s[4]++,otpService.sendOtp(email));cov_25yf32j4es().s[5]++;console.log(`OTP for ${email}: ${otp}`);cov_25yf32j4es().s[6]++;res.json({success:true,message:'OTP sent'});};cov_25yf32j4es().s[7]++;exports.verifyOtp=async(req,res)=>{cov_25yf32j4es().f[1]++;const{email,otp}=(cov_25yf32j4es().s[8]++,req.body);cov_25yf32j4es().s[9]++;if(otpService.verifyOtp(email,otp)){cov_25yf32j4es().b[0][0]++;cov_25yf32j4es().s[10]++;await User.findOneAndUpdate({email},{isVerified:true});cov_25yf32j4es().s[11]++;res.json({success:true});}else{cov_25yf32j4es().b[0][1]++;cov_25yf32j4es().s[12]++;res.json({success:false,message:'Invalid or expired OTP'});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjV5ZjMyajRlcyIsImFjdHVhbENvdmVyYWdlIiwiVXNlciIsInMiLCJyZXF1aXJlIiwib3RwU2VydmljZSIsImV4cG9ydHMiLCJzZW5kT3RwIiwicmVxIiwicmVzIiwiZiIsImVtYWlsIiwiYm9keSIsIm90cCIsImNvbnNvbGUiLCJsb2ciLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ2ZXJpZnlPdHAiLCJiIiwiZmluZE9uZUFuZFVwZGF0ZSIsImlzVmVyaWZpZWQiXSwic291cmNlcyI6WyJvdHBDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlck1vZGVsJyk7XG5jb25zdCBvdHBTZXJ2aWNlID0gcmVxdWlyZSgnLi4vdXRpbHMvc2VuZE90cCcpO1xuXG5leHBvcnRzLnNlbmRPdHAgPSAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGVtYWlsIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBvdHAgPSBvdHBTZXJ2aWNlLnNlbmRPdHAoZW1haWwpO1xuICAgIGNvbnNvbGUubG9nKGBPVFAgZm9yICR7ZW1haWx9OiAke290cH1gKTtcbiAgICByZXMuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdPVFAgc2VudCcgfSk7XG59O1xuXG5leHBvcnRzLnZlcmlmeU90cCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgZW1haWwsIG90cCB9ID0gcmVxLmJvZHk7XG4gICAgaWYgKG90cFNlcnZpY2UudmVyaWZ5T3RwKGVtYWlsLCBvdHApKSB7XG4gICAgICAgIGF3YWl0IFVzZXIuZmluZE9uZUFuZFVwZGF0ZSh7IGVtYWlsIH0sIHsgaXNWZXJpZmllZDogdHJ1ZSB9KTtcbiAgICAgICAgcmVzLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdJbnZhbGlkIG9yIGV4cGlyZWQgT1RQJyB9KTtcbiAgICB9XG59O1xuIl0sIm1hcHBpbmdzIjoieTdEQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsSUFBSSxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLHFCQUFxQixDQUFDLEVBQzNDLEtBQU0sQ0FBQUMsVUFBVSxFQUFBTCxjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEVBQUNKLGNBQUEsR0FBQUcsQ0FBQSxNQUUvQ0csT0FBTyxDQUFDQyxPQUFPLENBQUcsQ0FBQ0MsR0FBRyxDQUFFQyxHQUFHLEdBQUssQ0FBQVQsY0FBQSxHQUFBVSxDQUFBLE1BQzVCLEtBQU0sQ0FBRUMsS0FBTSxDQUFDLEVBQUFYLGNBQUEsR0FBQUcsQ0FBQSxNQUFHSyxHQUFHLENBQUNJLElBQUksRUFDMUIsS0FBTSxDQUFBQyxHQUFHLEVBQUFiLGNBQUEsR0FBQUcsQ0FBQSxNQUFHRSxVQUFVLENBQUNFLE9BQU8sQ0FBQ0ksS0FBSyxDQUFDLEVBQUNYLGNBQUEsR0FBQUcsQ0FBQSxNQUN0Q1csT0FBTyxDQUFDQyxHQUFHLENBQUMsV0FBV0osS0FBSyxLQUFLRSxHQUFHLEVBQUUsQ0FBQyxDQUFDYixjQUFBLEdBQUFHLENBQUEsTUFDeENNLEdBQUcsQ0FBQ08sSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxJQUFJLENBQUVDLE9BQU8sQ0FBRSxVQUFXLENBQUMsQ0FBQyxDQUNwRCxDQUFDLENBQUNsQixjQUFBLEdBQUFHLENBQUEsTUFFRkcsT0FBTyxDQUFDYSxTQUFTLENBQUcsTUFBT1gsR0FBRyxDQUFFQyxHQUFHLEdBQUssQ0FBQVQsY0FBQSxHQUFBVSxDQUFBLE1BQ3BDLEtBQU0sQ0FBRUMsS0FBSyxDQUFFRSxHQUFJLENBQUMsRUFBQWIsY0FBQSxHQUFBRyxDQUFBLE1BQUdLLEdBQUcsQ0FBQ0ksSUFBSSxFQUFDWixjQUFBLEdBQUFHLENBQUEsTUFDaEMsR0FBSUUsVUFBVSxDQUFDYyxTQUFTLENBQUNSLEtBQUssQ0FBRUUsR0FBRyxDQUFDLENBQUUsQ0FBQWIsY0FBQSxHQUFBb0IsQ0FBQSxTQUFBcEIsY0FBQSxHQUFBRyxDQUFBLE9BQ2xDLEtBQU0sQ0FBQUQsSUFBSSxDQUFDbUIsZ0JBQWdCLENBQUMsQ0FBRVYsS0FBTSxDQUFDLENBQUUsQ0FBRVcsVUFBVSxDQUFFLElBQUssQ0FBQyxDQUFDLENBQUN0QixjQUFBLEdBQUFHLENBQUEsT0FDN0RNLEdBQUcsQ0FBQ08sSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxJQUFLLENBQUMsQ0FBQyxDQUMvQixDQUFDLElBQU0sQ0FBQWpCLGNBQUEsR0FBQW9CLENBQUEsU0FBQXBCLGNBQUEsR0FBQUcsQ0FBQSxPQUNITSxHQUFHLENBQUNPLElBQUksQ0FBQyxDQUFFQyxPQUFPLENBQUUsS0FBSyxDQUFFQyxPQUFPLENBQUUsd0JBQXlCLENBQUMsQ0FBQyxDQUNuRSxDQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=